[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
norecursedirs = mcp_server test_server
addopts =
    -v
    --tb=short
    --strict-markers
    -p no:warnings
# Coverage disabled for integration tests that test external server
# Uncomment below for unit tests that import code directly:
#    --cov=src/vmcp
#    --cov-report=html:tests/htmlcov
#    --cov-report=term-missing
#    --cov-report=xml

markers =
    vmcp_creation: Tests for vMCP creation
    mcp_server: Tests for MCP server integration
    custom_prompts: Tests for custom prompts
    custom_tools: Tests for custom tools
    prompt_tool: Tests for prompt-type tools
    python_tool: Tests for Python tools
    http_tool: Tests for HTTP tools
    collection_tool: Tests for collection import tools
    variables: Tests for variable substitution
    tool_calls: Tests for tool call execution
    resources: Tests for resource handling
    integration: Integration tests
    slow: Slow running tests

asyncio_mode = auto
